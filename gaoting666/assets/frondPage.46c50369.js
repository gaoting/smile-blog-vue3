import{a,s as e}from"./axios.a2686a6a.js";import{_ as t,a as l}from"./cardList.vue_vue_type_script_setup_true_lang.549ed1a7.js";import{T as s}from"./tagList.1bc4c1c2.js";import{d as i,a as n,r,c as o,K as c,l as u,x as p,s as d,o as g,H as y,b as m,e as h,f as b,u as f,I as v,J as _,h as L,L as S,v as w,F as k,t as x,w as A,p as z,k as C,_ as j}from"./index.b3b0bea4.js";import{m as O}from"./http.244fba9c.js";import"./Pagination.3ebb69a1.js";const q=(a=>(z("data-v-b9d26ce3"),a=a(),C(),a))((()=>b("div",{class:"flex page-header"},null,-1))),I={class:"content-box flex"},K={class:"content-left-box"},N=A("新建文章"),P={class:"top-title flex-between"},B=A(" 新建文章 "),D={class:"cont-right"},E=j(i({__name:"frondPage",setup(i){n("top");const A=n("0");let z=r({current:1,total:0,pageSize:10});const C=o((()=>localStorage.getItem("userName")&&"admin"===localStorage.getItem("userName")));let j=n([]);const E=a=>{z.current=a.current,z.pageSize=a.pageSize,J()},F=()=>{T.push({path:"/frondPage"})},H=c(),J=async()=>{const e=await a({pageSize:z.pageSize,current:z.current,tags:H.query.id?H.query.id:null,types:+A.value?+A.value:null});j.value=e.list,z.total=e.total},T=u(),U=()=>{T.push({path:"articleAdd"})};p([()=>H.query,A],((a,e)=>{J()}),{deep:!0});let G=n([]);let M=n([]);const Q=O();return d(Q),g((()=>{J(),(async()=>{const a=await e({orderByDesc:["lookNum"]});G.value=a.list})(),(async()=>{const a=await e({orderByDesc:["loveNum"]});M.value=a.list})()})),(a,e)=>{const i=y("a-tab-pane"),n=y("a-button"),r=y("a-tabs");return m(),h(k,null,[q,b("div",I,[b("div",K,[f(H).query.id?(m(),h(k,{key:1},[b("div",P,[b("h2",null,[b("span",null,x(f(Q).tagsObj[f(H).query.id]),1)]),f(C)?(m(),v(n,{key:0,onClick:U,type:"primary"},{default:_((()=>[L(f(S)),B])),_:1})):w("",!0)]),L(t,{page:f(z),allArticleList:f(j),onOnShowSizeChange:E},null,8,["page","allArticleList"])],64)):(m(),v(r,{key:0,activeKey:A.value,"onUpdate:activeKey":e[0]||(e[0]=a=>A.value=a),type:"card",onChange:F},{rightExtra:_((()=>[f(C)?(m(),v(n,{key:0,onClick:U,type:"primary",style:{"margin-bottom":"8px"}},{default:_((()=>[L(f(S)),N])),_:1})):w("",!0)])),default:_((()=>[L(i,{key:"0",tab:"全部"},{default:_((()=>[L(t,{page:f(z),allArticleList:f(j),onOnShowSizeChange:E},null,8,["page","allArticleList"])])),_:1}),L(i,{key:"1",tab:"前端"},{default:_((()=>[L(t,{page:f(z),allArticleList:f(j),onOnShowSizeChange:E},null,8,["page","allArticleList"])])),_:1}),L(i,{key:"2",tab:"后端"},{default:_((()=>[L(t,{page:f(z),allArticleList:f(j),onOnShowSizeChange:E},null,8,["page","allArticleList"])])),_:1}),L(i,{key:"4",tab:"其他"},{default:_((()=>[L(t,{page:f(z),allArticleList:f(j),onOnShowSizeChange:E},null,8,["page","allArticleList"])])),_:1})])),_:1},8,["activeKey"]))]),b("div",D,[L(s),L(l,{header:{title:"我的收藏",url:"/"}}),L(l,{newList:f(G)},null,8,["newList"]),L(l,{newList:f(M),header:{title:"收藏最多",url:"/"}},null,8,["newList"])])])],64)}}}),[["__scopeId","data-v-b9d26ce3"]]);export{E as default};
